<ng-container *ngIf="user; else: loading">
  <mat-card [ngClass]="{ 'mat-card-opened': opened }">
    <mat-card-content fxLayout="row" fxLayoutAlign="center center" [fxLayout.lt-lg]="layout">
      <img mat-card-avatar [src]="[user.avatar]" alt="Profile picture" />
      <article class="information" fxLayout="column" fxLayoutAlign="start start">
        <div>
          <h3 class="name">
            {{ user.name }}
          </h3>
          <span>{{ user.surname }}</span>
        </div>
        <mat-divider [inset]="true"></mat-divider>
        <div fxLayout="column">
          <span *ngIf="user.phoneNumber"><b>Phone number:</b> {{ user.phoneNumber }}</span>
          <span><b>Email:</b> {{ userEmail }}</span>
          <span *ngIf="user.position"><b>Position:</b> {{ user.position }}</span>
        </div>
        <mat-divider [inset]="true"></mat-divider>
        <div>
          <span *ngIf="organization"><b>Organization:</b> {{ organization.name }}</span>
        </div>
        <mat-divider [inset]="true"></mat-divider>
      </article>
    </mat-card-content>
    <mat-card-actions fxLayout="row" fxLayoutAlign="end">
      <button mat-icon-button test-id="change-password" (click)="editing.emit('password')" color="primary">
        <mat-icon svgIcon="changePass"></mat-icon>
      </button>
      <button mat-icon-button test-id="edit-profile" (click)="editing.emit('profile')" color="primary">
        <mat-icon>edit</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</ng-container>
<ng-template #loading>
  <div fxLayout="column" fxLayoutAlign="center center">
    <p>Your Profile is loading...</p>
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
</ng-template>
