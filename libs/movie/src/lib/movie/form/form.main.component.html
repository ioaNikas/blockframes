<div [formGroup]="form">
  <!-- TITLES -->
  <h3> Titles </h3>
  <input-string class="full-width" required=true [form]="form" placeholder="Original title" name="originalTitle"></input-string>
  <input-string class="full-width" required=true [form]="form" placeholder="International title" name="internationalTitle"></input-string>
  
  <h3> Directed By </h3>
  <input-string class="full-width" required=true [form]="form" placeholder="Director name" name="directorName"></input-string>

  <!-- POSTER -->
  <h3> Poster </h3>
  <mat-card class="movie-poster-thumbnail mat-elevation-z0">
    <ng-container *ngIf="form.currentFormValue('poster'); else fileUpload">
      <img mat-card-image [src]="form.currentFormValue('poster')">
      <mat-card-actions>
        <button mat-raised-button color="warn" (click)="setPoster('')">
          <mat-icon>delete_circle</mat-icon> Remove
        </button>
      </mat-card-actions>
    </ng-container>
    <ng-template #fileUpload>
      <file-upload
        accept="['.jpg', '.png']"
        path='test'
        [types]="['image/jpeg', 'image/png']"
        [uploadOnFirestore]="true"
        (storeUploaded)="form.setPoster($event)"
      ></file-upload>
    </ng-template>
  </mat-card>
  <h3> Production </h3>
  <input-string class="full-width" type="number" [form]="form" placeholder="Production year" name="productionYear"></input-string>

  <!-- AUDIOVISUAL TYPES -->
  <h3> Types </h3>
  <mat-form-field class="full-width">
    <mat-select formControlName="types"  placeholder="Film Type" multiple>
      <mat-option>
        <ngx-mat-select-search 
          [formControl]="audiovisualTypesFilterCtrl"
          [placeholderLabel]="'Search...'" 
          [noEntriesFoundLabel]="'no matching type found'"
        ></ngx-mat-select-search>
      </mat-option>
      <mat-option *ngFor="let type of audiovisualTypes$ | async" [value]="type.slug">
        {{ type.label }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- GENRES -->
  <h3> Genres </h3>
  <mat-form-field class="full-width">
    <mat-select formControlName="genres" placeholder="Genres" multiple>
      <mat-option>
        <ngx-mat-select-search 
          [formControl]="genresFilterCtrl"
          [placeholderLabel]="'Search...'" 
          [noEntriesFoundLabel]="'no matching genre found'"
        ></ngx-mat-select-search>
      </mat-option>
      <mat-option *ngFor="let genre of genres$ | async" [value]="genre.slug">
        {{ genre.label }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- ORIGIN COUNTRY -->
  <h3> Origin Country </h3>
  <mat-form-field class="full-width">
    <mat-select formControlName="originCountry" placeholder="Origin Country">
      <mat-option>
        <ngx-mat-select-search 
          [formControl]="countriesFilterCtrl"
          [placeholderLabel]="'Search...'" 
          [noEntriesFoundLabel]="'no matching country found'"
        ></ngx-mat-select-search>
      </mat-option>
      <mat-option *ngFor="let country of countries$ | async" [value]="country.slug">
        {{ country.label }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- CO-PRODUCER COUNTRIES -->
  <h3> Co Producers Countries </h3>
  <mat-form-field class="full-width">
    <mat-select formControlName="coProducerCountries" placeholder="Co Producers Countries" multiple>
      <mat-option>
        <ngx-mat-select-search 
          [formControl]="countriesFilterCtrl"
          [placeholderLabel]="'Search...'" 
          [noEntriesFoundLabel]="'no matching country found'"
        ></ngx-mat-select-search>
      </mat-option>
      <mat-option *ngFor="let country of countries$ | async" [value]="country.slug">
        {{ country.label }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- LANGUAGES -->
  <h3> Languages </h3>
  <mat-form-field class="full-width">
    <mat-select formControlName="languages" placeholder="Film Languages" multiple>
      <mat-option>
        <ngx-mat-select-search 
          [formControl]="languagesFilterCtrl"
          [placeholderLabel]="'Search...'" 
          [noEntriesFoundLabel]="'no matching language found'"
        ></ngx-mat-select-search>
      </mat-option>
      <mat-option *ngFor="let language of languages$ | async" [value]="language.slug">
        {{ language.label }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- STATUS -->
  <h3> Status </h3>
  <mat-form-field>
    <mat-select formControlName="status" placeholder="Status">
      <mat-option *ngFor="let status of staticModels.MOVIE_STATUS" [value]="status.slug">
        {{ status.label }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>